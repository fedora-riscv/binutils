diff -rcp ../binutils-2.20.51.0.7.orig/gas/ChangeLog gas/ChangeLog
*** ../binutils-2.20.51.0.7.orig/gas/ChangeLog	2010-11-15 10:22:30.000000000 +0000
--- gas/ChangeLog	2010-11-15 10:23:12.000000000 +0000
***************
*** 1,3 ****
--- 1,9 ----
+ 2010-03-30  H.J. Lu  <hongjiu.lu@intel.com>
+ 
+ 	PR gas/11456
+ 	* input-scrub.c (input_scrub_next_buffer): Use memmove instead
+ 	of memcpy to copy overlap memory.
+ 
  2010-03-18  Wei Guozhi  <carrot@google.com>
  
  	PR gas/11323
diff -rcp ../binutils-2.20.51.0.7.orig/gas/input-scrub.c gas/input-scrub.c
*** ../binutils-2.20.51.0.7.orig/gas/input-scrub.c	2010-11-15 10:22:30.000000000 +0000
--- gas/input-scrub.c	2010-11-15 10:22:45.000000000 +0000
*************** input_scrub_next_buffer (char **bufp)
*** 343,350 ****
  
    if (partial_size)
      {
!       memcpy (buffer_start + BEFORE_SIZE, partial_where,
! 	      (unsigned int) partial_size);
        memcpy (buffer_start + BEFORE_SIZE, save_source, AFTER_SIZE);
      }
    limit = input_file_give_next_buffer (buffer_start
--- 343,350 ----
  
    if (partial_size)
      {
!       memmove (buffer_start + BEFORE_SIZE, partial_where,
! 	       (unsigned int) partial_size);
        memcpy (buffer_start + BEFORE_SIZE, save_source, AFTER_SIZE);
      }
    limit = input_file_give_next_buffer (buffer_start
