*** ../binutils-2.23.51.0.1.orig/binutils/elfcomm.c	2013-02-07 14:41:00.436014549 +0000
--- binutils/elfcomm.c	2013-02-07 14:42:09.749012357 +0000
*************** get_archive_member_name (struct archive_
*** 586,591 ****
--- 586,597 ----
        char *member_file_name;
        char *member_name;
  
+       if (arch->longnames == NULL || arch->longnames_size == 0)
+ 	{
+ 	  error (_("Archive member uses long names, but no longname table found\n"));
+ 	  return NULL;
+ 	}
+       
        arch->nested_member_origin = 0;
        k = j = strtoul (arch->arhdr.ar_name + 1, &endp, 10);
        if (arch->is_thin_archive && endp != NULL && * endp == ':')
